generator client {
  provider = "prisma-client-js"
}


datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model pushSubscription {
  id           Int      @id @default(autoincrement())
  endpoint     String   @unique
  p256dh       String
  auth         String
  // optional metadata
  userId       Int?     // if your app has users, optional FK
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}


model IndustryProject {
  id                 Int      @id @default(autoincrement())
  title              String
  company            String
  description        String?
  budget             String?
  duration           String?
  deadline           String?
  skillsRequired     String[]
  status             String?
  applicants         Int      @default(0)
  requiredCandidates Int?
  type               String?
  priority           String?
  postedDate         String?
  industryId         Int
}

model PostNewsJob {
  id          Int      @id @default(autoincrement())
  title       String
  company     String?
  author      String?
  description String
  type        String?
  skills      String[]
  location    String?
  salary      String?
  category    String?
  tags        String[]
  eventDate   String?
  date        DateTime @default(now())
  likes       Int      @default(0)
  comments    Int      @default(0)
  shares      Int      @default(0)
  industryId  Int

  @@map("PostNewsJob")
}

model Challenge {
  id                  Int      @id @default(autoincrement())
  industryId          Int
  challenge           String
  description         String?
  impact              String
  affectedCompanies   String?
  solution            String
  solutionDescription String?
  implementedBy       String[]
  successRate         String?
  timeToImplement     String?
  costSaving          String?
  status              String   @default("Active")

  @@map("challenge")
}

model Job {
  id          Int      @id @default(autoincrement())
  title       String
  company     String
  location    String
  salary      String?
  type        String?
  experience  String?
  skills      String[]
  description String?
  posted      DateTime @default(now())
  applicants  Int      @default(0)
  industryId  Int

  @@map("job")
}

model Sector {
  id          Int      @id @default(autoincrement())
  name        String
  description String?
  companies   Int
  employment  String?
  growth      String?
  majorCities String[]
  color       String?
  icon        String?
  industryId  Int
}

model IndustryAbout {
  id              Int      @id @default(autoincrement())
  overview        String
  website         String?
  verified        Boolean
  verifiedDate    String?
  sector          String?
  industrySize    String?
  industryId      Int      @unique
  activeMembers   String?
  headquarters    String?
  specializations String[]
  customFields    Json[]
  marketData      Json[]
  locations       Json[]

  @@map("industryabout")
}

model Admin {
  id        Int      @id @default(autoincrement())
  name      String
  email     String   @unique
  password  String   // hashed
  role      String   @default("admin")
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("admins")
}

model Student {
  id              Int                       @id @default(autoincrement())
  firstName       String?                   @map("first_name") @db.VarChar(100)
  username        String?                   @unique
  lastName        String?                   @map("last_name") @db.VarChar(100)
  email           String                    @unique @db.VarChar(150)
  password        String?                    @db.VarChar(255)
  role            String?   
  otp         String?
  otpExpires  DateTime?
  contactNo       String?                   @map("contact_no") @db.VarChar(15)
  collegeName     String?                   @map("college_name") @db.VarChar(200)
  interestedField String?                   @map("interested_field") @db.VarChar(50)
  otherField      String?                   @map("other_field") @db.VarChar(100)
  googleId        String?                   @map("google_id") @db.VarChar(255)
  githubId        String?                   @map("github_id") @db.VarChar(255)
  profilePicture  String?                   @map("profile_picture") @db.VarChar(255)
  coverPicture    String?                   @map("cover_picture") @db.VarChar(255)
  location        String?                   @db.VarChar(100)
  headline        String?                   @db.VarChar(300)
  isActive        Boolean                   @default(true)
  isEmailVerified Boolean                   @default(false)
  lastLogin       DateTime?                 @map("lastLogin")
  loginCount      Int                       @default(0)
 createdAt   DateTime  @default(now()) @map("created_at") @db.Timestamptz(6)
updatedAt   DateTime  @updatedAt      @map("updated_at") @db.Timestamptz(6)

  githubUrl       String?                   @map("githubUrl") @db.VarChar(100)
  linkedinUrl     String?                   @map("linkedinUrl") @db.VarChar(100)
  about           student_about[]
  achivements     student_achivements[]
  certifications  student_certifications[]
  courses         student_courses[]
  education       student_education[]
  experience      student_experience[]
  projects        student_projects[]
  recommendations student_recommendations[]
  skills          student_skills[]
post               Post[]
  post_comments   post_comments[]
    saved_posts    saved_posts[]   // posts saved by student
  reported_posts reported_posts[] // posts reported by student
  notification    Boolean   @default(false)
  deniedAt        DateTime? // store last deny timestamp
 

  @@map("students")
}

model Experience {
  id           String    @id @db.Uuid
  userId       String    @db.Uuid
  company      String    @db.VarChar(255)
  position     String    @db.VarChar(255)
  startDate    DateTime  @db.Timestamptz(6)
  endDate      DateTime? @db.Timestamptz(6)
  description  String?
  skills       String[]  @default(dbgenerated("(ARRAY[]::character varying[])::character varying(255)[]")) @db.VarChar(255)
  achievements String[]  @default(dbgenerated("(ARRAY[]::character varying[])::character varying(255)[]")) @db.VarChar(255)
  customFields Json?     @default("[]")
  isCurrentJob Boolean?  @default(false)
  createdAt    DateTime  @db.Timestamptz(6)
  updatedAt    DateTime  @db.Timestamptz(6)
  users        users     @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("experiences")
}

model Project {
  id           String    @id @db.Uuid
  userId       String    @db.Uuid
  title        String    @db.VarChar(255)
  description  String?
  technologies String[]  @default(dbgenerated("(ARRAY[]::character varying[])::character varying(255)[]")) @db.VarChar(255)
  url          String?   @db.VarChar(255)
  githubUrl    String?   @db.VarChar(255)
  startDate    DateTime  @db.Timestamptz(6)
  endDate      DateTime? @db.Timestamptz(6)
  isOngoing    Boolean?  @default(false)
  customFields Json?     @default("[]")
  images       String[]  @default(dbgenerated("(ARRAY[]::character varying[])::character varying(255)[]")) @db.VarChar(255)
  createdAt    DateTime  @db.Timestamptz(6)
  updatedAt    DateTime  @db.Timestamptz(6)
  users        users     @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("projects")
}

model Course {
  id             String    @id @db.Uuid
  userId         String    @db.Uuid
  name           String    @db.VarChar(255)
  provider       String    @db.VarChar(255)
  completionDate DateTime? @db.Timestamptz(6)
  duration       String?   @db.VarChar(255)
  skills         String[]  @default(dbgenerated("(ARRAY[]::character varying[])::character varying(255)[]")) @db.VarChar(255)
  url            String?   @db.VarChar(255)
  certificateUrl String?   @db.VarChar(255)
  grade          String?   @db.VarChar(255)
  customFields   Json?     @default("[]")
  isCompleted    Boolean?  @default(false)
  createdAt      DateTime  @db.Timestamptz(6)
  updatedAt      DateTime  @db.Timestamptz(6)
  users          users     @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("courses")
}

model Certification {
  id           String    @id @db.Uuid
  userId       String    @db.Uuid
  name         String    @db.VarChar(255)
  issuer       String    @db.VarChar(255)
  issueDate    DateTime  @db.Timestamptz(6)
  expiryDate   DateTime? @db.Timestamptz(6)
  credentialId String?   @db.VarChar(255)
  url          String?   @db.VarChar(255)
  pdfFile      String?   @db.VarChar(255)
  skills       String[]  @default(dbgenerated("(ARRAY[]::character varying[])::character varying(255)[]")) @db.VarChar(255)
  customFields Json?     @default("[]")
  isVerified   Boolean?  @default(false)
  createdAt    DateTime  @db.Timestamptz(6)
  updatedAt    DateTime  @db.Timestamptz(6)
  users        users     @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@map("certifications")
}

model College {
  id                         Int                         @id @default(autoincrement())
  name                       String                      @db.VarChar(100)
  email                      String                      @unique @db.VarChar(255)
  password                   String                      @db.VarChar(255)
  description                String?
  location                   String?                     @db.VarChar(100)
  accreditation              String?                     @db.VarChar(100)
  website                    String?                     @db.VarChar(255)
  googleId                   String?                     @unique @map("google_id") @db.VarChar(255)
  githubId                   String?                     @unique @map("github_id") @db.VarChar(255)
  profilePicture             String?                     @map("profile_picture") @db.VarChar(500)
  backgroundUrl              String?                     @db.VarChar(255)
  campusArea                 Decimal?                    @db.Decimal(10, 2)
  createdAt                  DateTime                    @default(now()) @map("createdAt") @db.Timestamptz(6)
  established                Int?
  isActive                   Boolean                     @default(true)
  isEmailVerified            Boolean                     @default(false)
  lastLogin                  DateTime?                   @db.Timestamptz(6)
  loginCount                 Int                         @default(0)
  logoUrl                    String?                     @db.VarChar(255)
  nirfRank                   Int?
  totalFaculty               Int?
  totalStudents              Int?
  universityAffiliation      String?                     @db.VarChar(255)
  naacRating                 String?                     @db.VarChar(10)
  updatedAt                  DateTime                    @default(now()) @map("updatedAt") @db.Timestamptz(6)
  about                      college_about?
  college_academics_new      college_academics_new[]
  achievements               college_achievements[]
  college_activities_new     college_activities_new[]
  admissions                 college_admissions[]
  college_admissions_new     college_admissions_new[]
  affiliations               college_affiliations[]
  alumni                     college_alumni[]
  college_campuses_new       college_campuses_new[]
  certifications             college_certifications[]
  college_contact_new        college_contact_new?
  college_courses            college_courses[]
  departments                college_departments[]
  college_downloads          college_downloads[]
  events                     college_events[]
  facilities                 college_facilities[]
  faculty                    college_faculty[]
  college_fees               college_fees[]
  history                    college_history?
  college_hostels            college_hostels[]
  college_information_new    college_information_new?
  college_infrastructure_new college_infrastructure_new?
  placements                 college_placements[]
  college_placements_new     college_placements_new[]
  programs                   college_programs[]
  rankings                   college_rankings[]
  research                   college_research[]
  college_reviews            college_reviews[]

  @@map("colleges")
}

model Startup {
  id              Int       @id @default(autoincrement())
  email           String    @unique @db.VarChar(255)
  password        String    @db.VarChar(255)
  firstName       String?   @map("first_name") @db.VarChar(100)
  lastName        String?   @map("last_name") @db.VarChar(100)
  startupName     String?   @map("startup_name") @db.VarChar(200)
  startupStage    String?   @map("startup_stage") @db.VarChar(50)
  fundingStatus   String?   @map("funding_status") @db.VarChar(100)
  teamSize        String?   @map("team_size") @db.VarChar(50)
  description     String?
  location        String?   @db.VarChar(100)
  website         String?   @db.VarChar(255)
  contactNo       String?   @map("contact_no") @db.VarChar(20)
  logoUrl         String?   @db.VarChar(255)
  backgroundUrl   String?   @db.VarChar(255)
  isActive        Boolean   @default(true)
  isEmailVerified Boolean   @default(false)
  lastLogin       DateTime? @db.Timestamptz(6)
  loginCount      Int?      @default(0)
  googleId        String?   @map("google_id") @db.VarChar(255)
  profilePicture  String?   @map("profile_picture") @db.VarChar(255)
  createdAt       DateTime  @default(now()) @db.Timestamptz(6)
  updatedAt       DateTime  @default(now()) @updatedAt @db.Timestamptz(6)

  @@map("startups")
}

model Industry {
  id              Int       @id @default(autoincrement())
  email           String    @unique @db.VarChar(255)
  password        String    @db.VarChar(255)
  firstName       String?   @map("first_name") @db.VarChar(100)
  lastName        String?   @map("last_name") @db.VarChar(100)
  companyName     String?   @map("company_name") @db.VarChar(200)
  industryType    String?   @map("industry_type") @db.VarChar(100)
  companySize     String?   @map("company_size") @db.VarChar(50)
  designation     String?   @db.VarChar(100)
  description     String?
  location        String?   @db.VarChar(100)
  website         String?   @db.VarChar(255)
  contactNo       String?   @map("contact_no") @db.VarChar(20)
  logoUrl         String?   @db.VarChar(255)
  backgroundUrl   String?   @db.VarChar(255)
  isActive        Boolean   @default(true)
  isEmailVerified Boolean   @default(false)
  lastLogin       DateTime? @db.Timestamptz(6)
  loginCount      Int?      @default(0)
  googleId        String?   @map("google_id") @db.VarChar(255)
  profilePicture  String?   @map("profile_picture") @db.VarChar(255)
  createdAt       DateTime  @default(now()) @db.Timestamptz(6)
  updatedAt       DateTime  @default(now()) @updatedAt @db.Timestamptz(6)

  @@map("industries")
}

model Post {
  post_id        Int              @id @default(autoincrement())
  content        String?
  title          String?
  authorId       Int
  authorType     String           @db.VarChar(50)
  createdAt      DateTime?        @default(now()) @map("created_at") @db.Timestamp(6)
  repost_of     Int?      // <- THIS IS MISSING
  
  repost_count Int       @default(0)  // add this
  student_id     Int?
  college_id     Int?
  industry_id    Int?
  alumni_id      Int?
  startup_id     Int?

  post_comments  post_comments[]
    saved_posts    saved_posts[]
  reported_posts reported_posts[]
  post_media     post_media[]
  post_polls     post_polls[]
  post_reposts    post_reposts[]
  post_reactions post_reactions[]
  post_shares    post_shares[]
  post_tags      post_tags[]
  alumni         alumni?          @relation(fields: [alumni_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  student        Student?        @relation(fields: [student_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  @@map("posts")
}

model post_reposts {
  repost_id   Int      @id @default(autoincrement())
  post_id     Int      // original post
  student_id  Int?
  alumni_id   Int?
  college_id  Int?
  industry_id Int?
  startup_id  Int?
  created_at  DateTime @default(now())

  post Post @relation(fields: [post_id], references: [post_id], onDelete: Cascade)

  @@map("post_reposts")
}



model SequelizeMeta {
  name String @id @db.VarChar(255)
}

model alumni {
  id             Int              @id @default(autoincrement())
  post_comments  post_comments[]
  post_reactions post_reactions[]
  post_shares    post_shares[]

  posts          Post[]
}

model college_campuses {
  id             Int       @id @default(autoincrement())
  college_id     Int
  name           String    @db.VarChar(100)
  type           String    @db.VarChar(100)
  address        String
  student_count  String?   @db.VarChar(50)
  latitude       Decimal?  @db.Decimal(9, 6)
  longitude      Decimal?  @db.Decimal(9, 6)
  dean           String?   @db.VarChar(100)
  image_url      String?   @db.VarChar(255)
  contact_number String?   @db.VarChar(20)
  email          String?   @db.VarChar(100)
  custom_fields  Json?
  created_at     DateTime? @default(now()) @db.Timestamp(6)
  updated_at     DateTime? @default(now()) @db.Timestamp(6)
}

model college_about {
  id          Int      @id @default(autoincrement())
  college_id  Int      @unique
  overview    String?
  vision      String?
  mission     String?
  history     String?
  specialties String[]
  created_at  DateTime @default(now()) @db.Timestamptz(6)
  updated_at  DateTime @default(now()) @db.Timestamptz(6)
  colleges    College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_achievements {
  id          Int      @id @default(autoincrement())
  college_id  Int
  title       String   @db.VarChar(200)
  description String?
  type        String   @db.VarChar(100)
  year        Int?
  issued_by   String?  @db.VarChar(150)
  image_url   String?  @db.VarChar(255)
  url         String?  @db.VarChar(255)
  created_at  DateTime @default(now()) @db.Timestamptz(6)
  updated_at  DateTime @default(now()) @db.Timestamptz(6)
  colleges    College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_alumni {
  id               Int      @id @default(autoincrement())
  college_id       Int
  name             String   @db.VarChar(150)
  graduation_year  Int
  current_position String?  @db.VarChar(200)
  linkedin_url     String?  @db.VarChar(255)
  created_at       DateTime @default(now()) @db.Timestamptz(6)
  updated_at       DateTime @default(now()) @db.Timestamptz(6)
  achievement      String?
  bio              String?
  course           String   @db.VarChar(100)
  current_company  String?  @db.VarChar(200)
  image_url        String?  @db.VarChar(255)
  is_featured      Boolean  @default(false)
  is_notable       Boolean  @default(false)
  colleges         College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_departments {
  id             Int      @id @default(autoincrement())
  college_id     Int
  name           String   @db.VarChar(200)
  description    String?
  created_at     DateTime @default(now()) @db.Timestamptz(6)
  head_name      String?  @db.VarChar(100)
  updated_at     DateTime @default(now()) @db.Timestamptz(6)
  established    Int?
  head_email     String?  @db.VarChar(150)
  head_phone     String?  @db.VarChar(20)
  image_url      String?  @db.VarChar(255)
  total_faculty  Int?
  total_students Int?
  website        String?  @db.VarChar(255)
  colleges       College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_events {
  id               Int       @id @default(autoincrement())
  college_id       Int
  title            String    @db.VarChar(200)
  description      String?
  event_type       String    @db.VarChar(100)
  end_date         DateTime? @db.Timestamptz(6)
  image_url        String?   @db.VarChar(255)
  created_at       DateTime  @default(now()) @db.Timestamptz(6)
  updated_at       DateTime  @default(now()) @db.Timestamptz(6)
  is_active        Boolean   @default(true)
  organizer        String?   @db.VarChar(150)
  registration_url String?   @db.VarChar(255)
  start_date       DateTime? @db.Timestamptz(6)
  venue            String?   @db.VarChar(200)
  colleges         College   @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_facilities {
  id          Int      @id @default(autoincrement())
  college_id  Int
  name        String   @db.VarChar(200)
  type        String   @db.VarChar(100)
  description String?
  capacity    String?  @db.VarChar(50)
  location    String?  @db.VarChar(100)
  features    String[]
  image_url   String?  @db.VarChar(255)
  is_active   Boolean  @default(true)
  created_at  DateTime @default(now()) @db.Timestamptz(6)
  updated_at  DateTime @default(now()) @db.Timestamptz(6)
  colleges    College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_faculty {
  id                 Int      @id @default(autoincrement())
  college_id         Int
  name               String   @db.VarChar(150)
  designation        String   @db.VarChar(100)
  specialization     String?
  research_interests String?
  bio                String?
  email              String?  @db.VarChar(150)
  phone              String?  @db.VarChar(20)
  created_at         DateTime @default(now()) @db.Timestamptz(6)
  updated_at         DateTime @default(now()) @db.Timestamptz(6)
  department         String   @db.VarChar(100)
  experience         String?  @db.VarChar(100)
  image_url          String?  @db.VarChar(255)
  publications       String?
  qualification      String?  @db.VarChar(200)
  colleges           College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_placements {
  id                   Int      @id @default(autoincrement())
  college_id           Int
  highest_package      Decimal? @db.Decimal(12, 2)
  average_package      Decimal? @db.Decimal(12, 2)
  median_package       Decimal? @db.Decimal(12, 2)
  placement_percentage Decimal? @db.Decimal(5, 2)
  top_recruiters       String[]
  placement_statistics Json?
  created_at           DateTime @default(now()) @db.Timestamptz(6)
  updated_at           DateTime @default(now()) @db.Timestamptz(6)
  academic_year        String   @db.VarChar(20)
  placed_students      Int?
  total_students       Int?
  colleges             College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_admissions {
  id                   Int       @id @default(autoincrement())
  college_id           Int
  application_fee      Decimal?  @db.Decimal(10, 2)
  created_at           DateTime  @default(now()) @db.Timestamptz(6)
  updated_at           DateTime  @default(now()) @db.Timestamptz(6)
  admission_process    String?
  admission_url        String?   @db.VarChar(255)
  application_end      DateTime? @db.Date
  application_start    DateTime? @db.Date
  course_name          String    @db.VarChar(200)
  eligibility_criteria String?
  exam_date            DateTime? @db.Date
  is_active            Boolean   @default(true)
  required_documents   String[]
  reservation_policy   String?
  result_date          DateTime? @db.Date
  total_seats          Int?
  colleges             College   @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model migration_history {
  id             Int       @id @default(autoincrement())
  migration_name String    @unique @db.VarChar(255)
  executed_at    DateTime? @default(now()) @db.Timestamp(6)
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model ping_networks {
  id                    Int       @id @default(autoincrement())

  sender_profile_id     Int
  sender_profile_type   String

  receiver_profile_id   Int
  receiver_profile_type String

  status                String    @default("pending")
  message               String?
  read                  Boolean   @default(false)
  accepted_at           DateTime?
  ignored_at            DateTime?

  created_at            DateTime  @default(now())
  updated_at            DateTime  @updatedAt

  @@index([sender_profile_id, receiver_profile_id])
}



model saved_posts {
  id          Int      @id @default(autoincrement())
  post_id     Int
  created_at  DateTime @default(now()) @db.Timestamp(6)

  student_id  Int?
  college_id  Int?
  industry_id Int?
  //alumni_id   Int?
  startup_id  Int?

  // ðŸ”— Relations
  post     Post      @relation(fields: [post_id], references: [post_id], onDelete: Cascade)

  student  Student?  @relation(fields: [student_id], references: [id])
 //  college  College?  @relation(fields: [college_id], references: [id])
 // industry Industry? @relation(fields: [industry_id], references: [id])
 // alumni   Alumni?   @relation(fields: [alumni_id], references: [id])
 // startup  Startup?  @relation(fields: [startup_id], references: [id])


  @@unique([post_id, student_id])
 // @@unique([post_id, college_id])
 // @@unique([post_id, industry_id])
 // @@unique([post_id, alumni_id])
  //@@unique([post_id, startup_id])
}



model reported_posts {
  id          Int      @id @default(autoincrement())
  post_id     Int
  reason      String
  created_at  DateTime @default(now()) @db.Timestamp(6)

  student_id  Int?
  college_id  Int?
  industry_id Int?
 // alumni_id   Int?
  startup_id  Int?

  // ðŸ”— Relations
  post     Post      @relation(fields: [post_id], references: [post_id], onDelete: Cascade)

  student  Student?  @relation(fields: [student_id], references: [id])
//  college  College?  @relation(fields: [college_id], references: [id])
 // industry Industry? @relation(fields: [industry_id], references: [id])
 // alumni   Alumni?   @relation(fields: [alumni_id], references: [id])
 // startup  Startup?  @relation(fields: [startup_id], references: [id])

  // ðŸš« Prevent duplicate reports
  @@unique([post_id, student_id])
 // @@unique([post_id, college_id])
 // @@unique([post_id, industry_id])
 // @@unique([post_id, alumni_id])
  // @@unique([post_id, startup_id])
}



model post_comments {
  comment_id   Int       @id @default(autoincrement())
  post_id      Int?
  comment_text String
  created_at   DateTime? @default(now()) @db.Timestamp(6)
  media_url    String?
  student_id   Int?
  college_id   Int?
  industry_id  Int?
  alumni_id    Int?
  startup_id   Int?
  student      Student?  @relation(fields: [student_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  alumni       alumni?   @relation(fields: [alumni_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  posts        Post?     @relation(fields: [post_id], references: [post_id], onDelete: Cascade, onUpdate: NoAction)
}

model post_media {
  media_id             Int       @id @default(autoincrement())
  post_id              Int?
  media_type           String?   @db.VarChar(10)
  media_url            String
  uploaded_at          DateTime? @default(now()) @db.Timestamp(6)
  cloudinary_public_id String?   @db.VarChar(255)
  posts                Post?     @relation(fields: [post_id], references: [post_id], onDelete: Cascade, onUpdate: NoAction)
}

model post_polls {
  poll_id     Int       @id @default(autoincrement())
  post_id     Int?
  option_text String    @db.VarChar(500)
  created_at  DateTime? @default(now()) @db.Timestamp(6)
  updated_at  DateTime? @default(now()) @db.Timestamp(6)
  posts       Post?     @relation(fields: [post_id], references: [post_id], onDelete: Cascade, onUpdate: NoAction)
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model post_reactions {
  reaction_id   Int       @id @default(autoincrement())
  post_id       Int?
  reaction_type String?   @db.VarChar(10)
  created_at    DateTime? @default(now()) @db.Timestamp(6)
  student_id    Int?
  college_id    Int?
  industry_id   Int?
  alumni_id     Int?
  startup_id    Int?
  alumni        alumni?   @relation(fields: [alumni_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  posts         Post?     @relation(fields: [post_id], references: [post_id], onDelete: Cascade, onUpdate: NoAction)
}

model post_shares {
  share_id              Int       @id @default(autoincrement())
  post_id               Int?
  shared_at             DateTime? @default(now()) @db.Timestamp(6)
  shared_by_student_id  Int?
  shared_by_college_id  Int?
  shared_by_industry_id Int?
  shared_by_alumni_id   Int?
  shared_by_startup_id  Int?
  posts                 Post?     @relation(fields: [post_id], references: [post_id], onDelete: Cascade, onUpdate: NoAction)
  alumni                alumni?   @relation(fields: [shared_by_alumni_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model post_tags {
  tag_id     Int       @id @default(autoincrement())
  post_id    Int?
  tag_name   String    @db.VarChar(50)
  created_at DateTime? @default(now()) @db.Timestamp(6)
  posts      Post?     @relation(fields: [post_id], references: [post_id], onDelete: Cascade, onUpdate: NoAction)
}

model student_about {
  id         Int     @id @default(autoincrement())
  student_id Int
  summary    String?
  students   Student @relation(fields: [student_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model student_certifications {
  id                   Int       @id @default(autoincrement())
  student_id           Int
  certificate_name     String?   @db.VarChar(150)
  issuing_organization String?   @db.VarChar(150)
  issue_date           DateTime? @db.Date
  expiry_date          DateTime? @db.Date
  credential_id        String?   @db.VarChar(100)
  credential_url       String?
  students             Student   @relation(fields: [student_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model student_courses {
  id              Int       @id @default(autoincrement())
  student_id      Int
  course_name     String?   @db.VarChar(150)
  provider        String?   @db.VarChar(150)
  completion_date DateTime? @db.Date
  students        Student   @relation(fields: [student_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model student_education {
  id             Int     @id @default(autoincrement())
  student_id     Int
  institution    String? @db.VarChar(200)
  degree         String? @db.VarChar(100)
  field_of_study String? @db.VarChar(100)
  start_year     Int?
  end_year       Int?
  grade          String? @db.VarChar(20)
  students       Student @relation(fields: [student_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model student_experience {
  id                Int       @id @default(autoincrement())
  student_id        Int
  title             String?   @db.VarChar(150)
  company           String?   @db.VarChar(150)
  start_date        DateTime? @db.Date
  end_date          DateTime? @db.Date
  description       String?
  location          String?   @db.VarChar(100)
  employment_type   String?   @default("Full-time") @db.VarChar(50)
  currently_working Boolean?  @default(false)
  students          Student   @relation(fields: [student_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model student_projects {
  id           Int       @id @default(autoincrement())
  student_id   Int
  title        String    @db.VarChar(150)
  description  String?
  technologies String?
  start_date   DateTime? @db.Date
  end_date     DateTime? @db.Date
  project_link String?
  students     Student   @relation(fields: [student_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model student_recommendations {
  id               Int     @id @default(autoincrement())
  student_id       Int
  recommender_name String? @db.VarChar(100)
  position         String? @db.VarChar(100)
  relationship     String? @db.VarChar(100)
  message          String?
  students         Student @relation(fields: [student_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model student_achivements {
  id          Int      @id @default(autoincrement())
  student_id  Int
  title       String?  @db.VarChar(100)
  description String?  @db.VarChar(100)
  tag         String?  @db.VarChar(100)
  date        DateTime
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  students    Student  @relation(fields: [student_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model student_skills {
  id          Int     @id @default(autoincrement())
  student_id  Int
  skill_name  String? @db.VarChar(100)
  proficiency String? @db.VarChar(50)
  students    Student @relation(fields: [student_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model students_additional_information {
  id           Int       @id @default(autoincrement())
  student_id   Int?
  headline     String?   @db.VarChar(255)
  location     String?   @db.VarChar(150)
  college_name String?   @db.VarChar(200)
  contact_no   String?   @db.VarChar(15)
  other_field  String?   @db.VarChar(100)
  updated_at   DateTime? @default(now()) @db.Timestamp(6)
}

model users {
  id                       String                        @id @db.Uuid
  email                    String                        @unique @db.VarChar(255)
  password                 String?                       @db.VarChar(255)
  role                     enum_users_role               @default(student)
  fullName                 String                        @db.VarChar(255)
  first_name               String?                       @db.VarChar(255)
  last_name                String?                       @db.VarChar(255)
  avatar                   String?                       @db.VarChar(255)
  bio                      String?
  location                 String?                       @db.VarChar(255)
  phone                    String?                       @db.VarChar(255)
  website                  String?                       @db.VarChar(255)
  linkedinUrl              String?                       @db.VarChar(255)
  twitterUrl               String?                       @db.VarChar(255)
  collegeName              String?                       @db.VarChar(255)
  course                   String?                       @db.VarChar(255)
  year                     Int?
  graduationYear           Int?
  cgpa                     Decimal?                      @db.Decimal(3, 2)
  skills                   String[]                      @default(dbgenerated("(ARRAY[]::character varying[])::character varying(255)[]")) @db.VarChar(255)
  deanName                 String?                       @db.VarChar(255)
  establishedYear          Int?
  accreditation            String[]                      @default(dbgenerated("(ARRAY[]::character varying[])::character varying(255)[]")) @db.VarChar(255)
  departments              String[]                      @default(dbgenerated("(ARRAY[]::character varying[])::character varying(255)[]")) @db.VarChar(255)
  studentCount             Int?
  facultyCount             Int?
  companyName              String?                       @db.VarChar(255)
  company_name             String?                       @db.VarChar(255)
  industry_type            String?                       @db.VarChar(255)
  company_size             String?                       @db.VarChar(255)
  designation              String?                       @db.VarChar(255)
  sector                   String?                       @db.VarChar(255)
  contactPerson            String?                       @db.VarChar(255)
  employeeCount            Int?
  headquarters             String?                       @db.VarChar(255)
  companyDescription       String?
  startupName              String?                       @db.VarChar(255)
  startup_name             String?                       @db.VarChar(255)
  startup_stage            String?                       @db.VarChar(255)
  funding_status           String?                       @db.VarChar(255)
  team_size                String?                       @db.VarChar(255)
  domain                   String?                       @db.VarChar(255)
  founderName              String?                       @db.VarChar(255)
  foundedYear              Int?
  stage                    enum_users_stage?
  fundingStatus            String?                       @db.VarChar(255)
  teamSize                 Int?
  startupDescription       String?
  isActive                 Boolean?                      @default(true)
  isEmailVerified          Boolean?                      @default(false)
  emailVerificationToken   String?                       @db.VarChar(255)
  emailVerificationExpires DateTime?                     @db.Timestamptz(6)
  passwordResetToken       String?                       @db.VarChar(255)
  passwordResetExpires     DateTime?                     @db.Timestamptz(6)
  lastLogin                DateTime?                     @db.Timestamptz(6)
  loginCount               Int?                          @default(0)
  google_id                String?                       @unique @db.VarChar(255)
  microsoftId              String?                       @db.VarChar(255)
  emailNotifications       Boolean?                      @default(true)
  pushNotifications        Boolean?                      @default(true)
  profileVisibility        enum_users_profileVisibility? @default(public)
  customFields             Json?                         @default("[]")
  createdAt                DateTime                      @db.Timestamptz(6)
  updatedAt                DateTime                      @db.Timestamptz(6)
  certifications           Certification[]
  courses                  Course[]
  experiences              Experience[]
  projects                 Project[]

  @@index([createdAt], map: "users_created_at")
  @@index([email], map: "users_email")
  @@index([fullName], map: "users_full_name")
  @@index([role], map: "users_role")
}

model college_campuses_new {
  id             Int      @id @default(autoincrement())
  college_id     Int
  name           String   @db.VarChar(100)
  type           String   @db.VarChar(100)
  address        String
  city           String?  @db.VarChar(100)
  state          String?  @db.VarChar(100)
  country        String?  @db.VarChar(100)
  pincode        String?  @db.VarChar(10)
  student_count  Int?
  faculty_count  Int?
  area_acres     Decimal? @db.Decimal(10, 2)
  latitude       Decimal? @db.Decimal(9, 6)
  longitude      Decimal? @db.Decimal(9, 6)
  dean           String?  @db.VarChar(100)
  dean_email     String?  @db.VarChar(100)
  contact_number String?  @db.VarChar(20)
  image_url      String?  @db.VarChar(255)
  facilities     String[]
  departments    String[]
  is_main_campus Boolean  @default(false)
  is_active      Boolean  @default(true)
  created_at     DateTime @default(now()) @db.Timestamptz(6)
  updated_at     DateTime @default(now()) @db.Timestamptz(6)
  colleges       College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_courses {
  id            Int      @id @default(autoincrement())
  name          String   @db.VarChar(200)
  syllabus_url  String?  @db.VarChar(255)
  description   String?
  created_at    DateTime @default(now()) @db.Timestamptz(6)
  updated_at    DateTime @default(now()) @db.Timestamptz(6)
  college_id    Int
  degree_type   String   @db.VarChar(50)
  department    String?  @db.VarChar(100)
  duration      String   @db.VarChar(50)
  eligibility   String?
  fees_per_year Decimal? @db.Decimal(10, 2)
  is_active     Boolean  @default(true)
  total_seats   Int?
  colleges      College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_downloads {
  id             Int      @id @default(autoincrement())
  college_id     Int
  title          String   @db.VarChar(200)
  description    String?
  file_type      String   @db.VarChar(50)
  category       String   @db.VarChar(100)
  file_url       String   @db.VarChar(255)
  file_size      String?  @db.VarChar(20)
  download_count Int      @default(0)
  is_public      Boolean  @default(true)
  created_at     DateTime @default(now()) @db.Timestamptz(6)
  updated_at     DateTime @default(now()) @db.Timestamptz(6)
  colleges       College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_fees {
  id            Int      @id @default(autoincrement())
  college_id    Int
  course_name   String   @db.VarChar(200)
  degree_type   String   @db.VarChar(50)
  category      String?  @db.VarChar(50)
  tuition_fee   Decimal? @db.Decimal(10, 2)
  hostel_fee    Decimal? @db.Decimal(10, 2)
  mess_fee      Decimal? @db.Decimal(10, 2)
  transport_fee Decimal? @db.Decimal(10, 2)
  other_fees    Decimal? @db.Decimal(10, 2)
  total_fee     Decimal? @db.Decimal(10, 2)
  academic_year String   @db.VarChar(20)
  fee_structure Json?
  payment_modes String[]
  scholarships  String[]
  created_at    DateTime @default(now()) @db.Timestamptz(6)
  updated_at    DateTime @default(now()) @db.Timestamptz(6)
  colleges      College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_hostels {
  id             Int      @id @default(autoincrement())
  college_id     Int
  name           String   @db.VarChar(150)
  type           String   @db.VarChar(50)
  capacity       Int?
  occupancy      Int?
  fees_per_year  Decimal? @db.Decimal(10, 2)
  facilities     String[]
  mess_facility  Boolean  @default(false)
  warden_name    String?  @db.VarChar(100)
  warden_contact String?  @db.VarChar(20)
  address        String?
  image_url      String?  @db.VarChar(255)
  is_active      Boolean  @default(true)
  created_at     DateTime @default(now()) @db.Timestamptz(6)
  updated_at     DateTime @default(now()) @db.Timestamptz(6)
  colleges       College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_reviews {
  id                    Int      @id @default(autoincrement())
  college_id            Int
  created_at            DateTime @default(now()) @db.Timestamptz(6)
  is_verified           Boolean  @default(false)
  updated_at            DateTime @default(now()) @db.Timestamptz(6)
  academics_rating      Decimal? @db.Decimal(2, 1)
  campus_life_rating    Decimal? @db.Decimal(2, 1)
  cons                  String?
  course                String?  @db.VarChar(100)
  faculty_rating        Decimal? @db.Decimal(2, 1)
  graduation_year       Int?
  helpful_count         Int      @default(0)
  infrastructure_rating Decimal? @db.Decimal(2, 1)
  is_featured           Boolean  @default(false)
  overall_rating        Decimal  @db.Decimal(2, 1)
  placement_rating      Decimal? @db.Decimal(2, 1)
  pros                  String?
  review_text           String?
  reviewer_name         String?  @db.VarChar(100)
  reviewer_type         String   @db.VarChar(50)
  colleges              College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_affiliations {
  id           Int      @id @default(autoincrement())
  college_id   Int
  organization String   @db.VarChar(200)
  type         String?  @db.VarChar(100)
  url          String?  @db.VarChar(255)
  description  String?
  created_at   DateTime @default(now()) @db.Timestamptz(6)
  updated_at   DateTime @default(now()) @db.Timestamptz(6)
  colleges     College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_certifications {
  id                Int       @id @default(autoincrement())
  college_id        Int
  certification     String    @db.VarChar(200)
  issuing_authority String?   @db.VarChar(200)
  issued_date       DateTime? @db.Date
  expiry_date       DateTime? @db.Date
  credential_id     String?   @db.VarChar(100)
  url               String?   @db.VarChar(255)
  created_at        DateTime  @default(now()) @db.Timestamptz(6)
  updated_at        DateTime  @default(now()) @db.Timestamptz(6)
  colleges          College   @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_history {
  id         Int      @id @default(autoincrement())
  college_id Int      @unique
  founded    Int?
  founders   String[]
  milestones String?
  legacy     String?
  timeline   String?
  created_at DateTime @default(now()) @db.Timestamptz(6)
  updated_at DateTime @default(now()) @db.Timestamptz(6)
  colleges   College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_programs {
  id          Int      @id @default(autoincrement())
  college_id  Int
  name        String   @db.VarChar(200)
  degree_type String?  @db.VarChar(50)
  duration    String?  @db.VarChar(50)
  description String?
  fees        String?  @db.VarChar(100)
  eligibility String?
  created_at  DateTime @default(now()) @db.Timestamptz(6)
  updated_at  DateTime @default(now()) @db.Timestamptz(6)
  colleges    College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_research {
  id              Int       @id @default(autoincrement())
  college_id      Int
  title           String    @db.VarChar(300)
  description     String?
  lead_researcher String?   @db.VarChar(200)
  funding         String?   @db.VarChar(100)
  status          String?   @db.VarChar(50)
  start_date      DateTime? @db.Date
  end_date        DateTime? @db.Date
  publications    String[]
  created_at      DateTime  @default(now()) @db.Timestamptz(6)
  updated_at      DateTime  @default(now()) @db.Timestamptz(6)
  colleges        College   @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_rankings {
  id            Int      @id @default(autoincrement())
  college_id    Int
  ranking_body  String   @db.VarChar(200)
  rank_position Int?
  year          Int?
  category      String?  @db.VarChar(100)
  score         String?  @db.VarChar(50)
  created_at    DateTime @default(now()) @db.Timestamptz(6)
  updated_at    DateTime @default(now()) @db.Timestamptz(6)
  colleges      College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_information_new {
  id                 Int      @id @default(autoincrement())
  college_id         Int      @unique
  overview           String?
  website            String?  @db.VarChar(255)
  establishment_year Int?
  college_type       String?  @db.VarChar(100)
  accreditation      String?  @db.VarChar(255)
  nirf_rank          Int?
  specialties        String[]
  custom_fields      Json?
  highlights         String[]
  programs_offered   String[]
  dual_programs      String[]
  created_at         DateTime @default(now()) @db.Timestamptz(6)
  updated_at         DateTime @default(now()) @db.Timestamptz(6)
  colleges           College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_admissions_new {
  id                   Int       @id @default(autoincrement())
  college_id           Int
  course_name          String    @db.VarChar(200)
  degree_type          String    @db.VarChar(50)
  duration             String?   @db.VarChar(50)
  eligibility_criteria String?
  entrance_exam        String?   @db.VarChar(100)
  application_process  String?
  application_fee      Decimal?  @db.Decimal(10, 2)
  total_seats          Int?
  admission_url        String?   @db.VarChar(255)
  application_start    DateTime? @db.Date
  application_end      DateTime? @db.Date
  exam_date            DateTime? @db.Date
  result_date          DateTime? @db.Date
  required_documents   String[]
  reservation_policy   String?
  scholarship_info     String?
  important_dates      Json?
  is_active            Boolean   @default(true)
  created_at           DateTime  @default(now()) @db.Timestamptz(6)
  updated_at           DateTime  @default(now()) @db.Timestamptz(6)
  colleges             College   @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_academics_new {
  id                Int      @id @default(autoincrement())
  college_id        Int
  course_name       String   @db.VarChar(200)
  degree_type       String   @db.VarChar(50)
  duration          String?  @db.VarChar(50)
  total_seats       Int?
  specializations   String[]
  curriculum        String?
  syllabus_url      String?  @db.VarChar(255)
  course_structure  Json?
  assessment_method String?
  is_active         Boolean  @default(true)
  created_at        DateTime @default(now()) @db.Timestamptz(6)
  updated_at        DateTime @default(now()) @db.Timestamptz(6)
  colleges          College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_infrastructure_new {
  id                 Int      @id @default(autoincrement())
  college_id         Int      @unique
  campus_area        String?  @db.VarChar(100)
  buildings_count    Int?
  classrooms_count   Int?
  laboratories_count Int?
  library_details    String?
  sports_facilities  String[]
  medical_facilities String?
  transportation     String?
  hostel_details     String?
  cafeteria_details  String?
  wifi_availability  Boolean  @default(false)
  parking_facility   Boolean  @default(false)
  security_features  String[]
  green_initiatives  String[]
  accessibility      String[]
  other_facilities   String[]
  created_at         DateTime @default(now()) @db.Timestamptz(6)
  updated_at         DateTime @default(now()) @db.Timestamptz(6)
  colleges           College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_activities_new {
  id                 Int      @id @default(autoincrement())
  college_id         Int
  activity_name      String   @db.VarChar(200)
  activity_type      String   @db.VarChar(100)
  description        String?
  organizer          String?  @db.VarChar(100)
  participants_count Int?
  schedule           String?
  venue              String?  @db.VarChar(200)
  registration_info  String?
  contact_details    String?  @db.VarChar(200)
  is_active          Boolean  @default(true)
  is_recurring       Boolean  @default(false)
  created_at         DateTime @default(now()) @db.Timestamptz(6)
  updated_at         DateTime @default(now()) @db.Timestamptz(6)
  colleges           College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_placements_new {
  id                       Int      @id @default(autoincrement())
  college_id               Int
  academic_year            String   @db.VarChar(20)
  course_name              String   @db.VarChar(200)
  total_students           Int?
  placed_students          Int?
  placement_percentage     Decimal? @db.Decimal(5, 2)
  highest_package          Decimal? @db.Decimal(12, 2)
  average_package          Decimal? @db.Decimal(12, 2)
  median_package           Decimal? @db.Decimal(12, 2)
  top_recruiters           String[]
  placement_sectors        String[]
  international_placements Int?
  entrepreneurship_count   Int?
  higher_studies_count     Int?
  placement_trends         Json?
  success_stories          String[]
  created_at               DateTime @default(now()) @db.Timestamptz(6)
  updated_at               DateTime @default(now()) @db.Timestamptz(6)
  colleges                 College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model college_contact_new {
  id                Int      @id @default(autoincrement())
  college_id        Int      @unique
  main_phone        String?  @db.VarChar(20)
  main_email        String?  @db.VarChar(100)
  admission_phone   String?  @db.VarChar(20)
  admission_email   String?  @db.VarChar(100)
  placement_phone   String?  @db.VarChar(20)
  placement_email   String?  @db.VarChar(100)
  registrar_phone   String?  @db.VarChar(20)
  registrar_email   String?  @db.VarChar(100)
  emergency_contact String?  @db.VarChar(20)
  postal_address    String?
  directions        String?
  office_hours      String?
  visitor_info      String?
  social_media      Json?
  created_at        DateTime @default(now()) @db.Timestamptz(6)
  updated_at        DateTime @default(now()) @db.Timestamptz(6)
  colleges          College  @relation(fields: [college_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}



enum enum_users_profileVisibility {
  public
  connections
  private
}

enum enum_users_role {
  student
  alumni
  college
  industry
  startup
}

enum enum_users_stage {
  idea
  prototype
  mvp
  growth
  scale
}

enum InteractionType {
  LIKE
  LOVE
  HAHA
  WOW
  SAD
  ANGRY
  COMMENT
  SHARE
  REPOST
}